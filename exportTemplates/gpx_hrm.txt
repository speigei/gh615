<<?= str('?') ?>xml version="1.0" encoding="UTF-8"?>
<gpx version="1.1"
	creator="code.google.com/p/GH615"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:gpxdata="http://www.cluetrust.com/XML/GPXDATA/1/0"
	xmlns="http://www.topografix.com/GPX/1/1"
	xsi:schemaLocation="http://www.topografix.com/GPX/1/1
						http://www.topografix.com/GPX/1/1/gpx.xsd
						http://www.cluetrust.com/XML/GPXDATA/1/0
						http://www.cluetrust.com/Schemas/gpxdata10.xsd">

<time></time>

<? for track in tracks: ?>
<trk>
	<trkseg>
	<? for trackpoint in track['trackpoints']: ?>
		<trkpt lat="<?= trackpoint['latitude'] ?>" lon="<?= trackpoint['longitude'] ?>">
			<ele><?= trackpoint['altitude'] ?></ele>
			<speed><?= trackpoint['speed'] ?></speed>
			<time><?= trackpoint['date'].strftime("%Y-%m-%dT%H:%M:%SZ") ?></time>
			<extensions>
				<gpxdata:hr><?= trackpoint['heartrate'] ?></gpxdata:hr>
			</extensions>
		</trkpt>
	<? end ?>
	</trkseg>
</trk>
<? end ?>

</gpx>
